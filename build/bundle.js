var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t){return null==t?"":t}function s(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let g;function w(t){g=t}function v(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const $=[],y=[],b=[],x=[],k=Promise.resolve();let S=!1;function _(t){b.push(t)}const C=new Set;let R=0;function M(){const t=g;do{for(;R<$.length;){const t=$[R];R++,w(t),N(t.$$)}for(w(null),$.length=0,R=0;y.length;)y.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];C.has(e)||(C.add(e),e())}b.length=0}while($.length);for(;x.length;)x.pop()();S=!1,C.clear(),w(t)}function N(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const P=new Set;function E(t,e){t&&t.i&&(P.delete(t),t.i(e))}function L(t,n,c,a){const{fragment:s,on_mount:i,on_destroy:l,after_update:u}=t.$$;s&&s.m(n,c),a||_((()=>{const n=i.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(_)}function A(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function T(t,e){-1===t.$$.dirty[0]&&($.push(t),S||(S=!0,k.then(M)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(e,r,c,a,s,i,u,f=[-1]){const d=g;w(e);const p=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:r.target||d.$$.root};u&&u(p.root);let h=!1;if(p.ctx=c?c(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),h&&T(e,t)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(l)}else p.fragment&&p.fragment.c();r.intro&&E(e.$$.fragment),L(e,r.target,r.anchor,r.customElement),M()}w(d)}class O{$destroy(){A(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const j=t=>`${Math.floor(t/1e3/60%60).toString()}:${Math.floor(t/1e3%60).toString().padStart(2,"0")}`,D={pomodoro:{time:15e5,text:"Get to work!"},short:{time:3e5,text:"Relax."},long:{time:9e5,text:"Seriously. Relax."}};function z(e){let n,o,r,c,a,g,w,v,$,y,b=j(e[1])+"";return{c(){n=u("span"),n.textContent="*",o=d(),r=u("button"),c=u("p"),a=f(e[0]),g=d(),w=u("h2"),v=f(b),h(n,"class","stem svelte-2rytkw"),h(c,"class","svelte-2rytkw"),h(w,"class","svelte-2rytkw"),h(r,"class","tomato svelte-2rytkw"),h(r,"data-testid","tomato-button")},m(t,l){i(t,n,l),i(t,o,l),i(t,r,l),s(r,c),s(c,a),s(r,g),s(r,w),s(w,v),$||(y=p(r,"click",e[2]),$=!0)},p(t,[e]){1&e&&m(a,t[0]),2&e&&b!==(b=j(t[1])+"")&&m(v,b)},i:t,o:t,d(t){t&&l(n),t&&l(o),t&&l(r),$=!1,y()}}}function B(t,e,n){let{text:o}=e,{timeLeft:r}=e;return t.$$set=t=>{"text"in t&&n(0,o=t.text),"timeLeft"in t&&n(1,r=t.timeLeft)},[o,r,function(e){v.call(this,t,e)}]}class U extends O{constructor(t){super(),I(this,t,B,z,c,{text:0,timeLeft:1})}}var G,q,W=(G=function(t){var e,n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
//! annyang
//! version : 2.6.1
//! author  : Tal Ater @TalAter
//! license : MIT
//! https://www.TalAter.com/annyang/
//! annyang
//! version : 2.6.1
//! author  : Tal Ater @TalAter
//! license : MIT
//! https://www.TalAter.com/annyang/
e="undefined"!=typeof window?window:void 0,n=function(t,e){var n,r=t.SpeechRecognition||t.webkitSpeechRecognition||t.mozSpeechRecognition||t.msSpeechRecognition||t.oSpeechRecognition;if(!r)return null;var c,a,s=[],i={start:[],error:[],end:[],soundstart:[],result:[],resultMatch:[],resultNoMatch:[],errorNetwork:[],errorPermissionBlocked:[],errorPermissionDenied:[]},l=0,u=0,f=!1,d="font-weight: bold; color: #00f;",p=!1,h=!1,m=/\s*\((.*?)\)\s*/g,g=/(\(\?:[^)]+\))\?/g,w=/(\(\?)?:\w+/g,v=/\*\w+/g,$=/[\-{}\[\]+?.,\\\^$|#]/g,y=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];t.forEach((function(t){t.callback.apply(t.context,n)}))},b=function(){return c!==e},x=function(t,e){-1!==t.indexOf("%c")||e?console.log(t,e||d):console.log(t)},k=function(){b()||n.init({},!1)},S=function(t,e,n){s.push({command:t,callback:e,originalPhrase:n}),f&&x("Command successfully loaded: %c"+n,d)},_=function(t){var e;y(i.result,t);for(var n=0;n<t.length;n++){e=t[n].trim(),f&&x("Speech recognized: %c"+e,d);for(var o=0,r=s.length;o<r;o++){var c=s[o],a=c.command.exec(e);if(a){var l=a.slice(1);return f&&(x("command matched: %c"+c.originalPhrase,d),l.length&&x("with parameters",l)),c.callback.apply(this,l),void y(i.resultMatch,e,c.originalPhrase,t)}}}y(i.resultNoMatch,t)};return n={init:function(o){var d=!(1<arguments.length&&arguments[1]!==e)||arguments[1];c&&c.abort&&c.abort(),(c=new r).maxAlternatives=5,c.continuous="http:"===t.location.protocol,c.lang="en-US",c.onstart=function(){h=!0,y(i.start)},c.onsoundstart=function(){y(i.soundstart)},c.onerror=function(t){switch(y(i.error,t),t.error){case"network":y(i.errorNetwork,t);break;case"not-allowed":case"service-not-allowed":a=!1,(new Date).getTime()-l<200?y(i.errorPermissionBlocked,t):y(i.errorPermissionDenied,t)}},c.onend=function(){if(h=!1,y(i.end),a){var t=(new Date).getTime()-l;(u+=1)%10==0&&f&&x("Speech Recognition is repeatedly stopping and starting. See http://is.gd/annyang_restarts for tips."),t<1e3?setTimeout((function(){n.start({paused:p})}),1e3-t):n.start({paused:p})}},c.onresult=function(t){if(p)return f&&x("Speech heard, but annyang is paused"),!1;for(var e=t.results[t.resultIndex],n=[],o=0;o<e.length;o++)n[o]=e[o].transcript;_(n)},d&&(s=[]),o.length&&this.addCommands(o)},start:function(t){k(),p=(t=t||{}).paused!==e&&!!t.paused,a=t.autoRestart===e||!!t.autoRestart,t.continuous!==e&&(c.continuous=!!t.continuous),l=(new Date).getTime();try{c.start()}catch(t){f&&x(t.message)}},abort:function(){a=!1,u=0,b()&&c.abort()},pause:function(){p=!0},resume:function(){n.start()},debug:function(){var t=!(0<arguments.length&&arguments[0]!==e)||arguments[0];f=!!t},setLanguage:function(t){k(),c.lang=t},addCommands:function(e){var n,r;for(var c in k(),e)if(e.hasOwnProperty(c))if("function"==typeof(n=t[e[c]]||e[c]))S((r=(r=c).replace($,"\\$&").replace(m,"(?:$1)?").replace(w,(function(t,e){return e?t:"([^\\s]+)"})).replace(v,"(.*?)").replace(g,"\\s*$1?\\s*"),new RegExp("^"+r+"$","i")),n,c);else{if(!("object"===(void 0===n?"undefined":o(n))&&n.regexp instanceof RegExp)){f&&x("Can not register command: %c"+c,d);continue}S(new RegExp(n.regexp.source,"i"),n.callback,c)}},removeCommands:function(t){t===e?s=[]:(t=Array.isArray(t)?t:[t],s=s.filter((function(e){for(var n=0;n<t.length;n++)if(t[n]===e.originalPhrase)return!1;return!0})))},addCallback:function(n,o,r){var c=t[o]||o;"function"==typeof c&&i[n]!==e&&i[n].push({callback:c,context:r||this})},removeCallback:function(t,n){var o=function(t){return t.callback!==n};for(var r in i)i.hasOwnProperty(r)&&(t!==e&&t!==r||(i[r]=n===e?[]:i[r].filter(o)))},isListening:function(){return h&&!p},getSpeechRecognizer:function(){return c},trigger:function(t){n.isListening()?(Array.isArray(t)||(t=[t]),_(t)):f&&x(h?"Speech heard, but annyang is paused":"Cannot trigger while annyang is aborted")}}},"object"===o(t)&&t.exports?t.exports=n(e):e.annyang=n(e)},G(q={exports:{}},q.exports),q.exports);const Y=t=>()=>console.log(`No handler for ${t}`),F=({play:t,pause:e,reset:n,startNewTimer:o,resultMatch:r=Y("resultMatch"),resultNoMatch:c=Y("resultNoMatch"),api:a=W})=>{if(!a)return null;const s={"play (the) (timer)":t,"start (the) (timer)":t,"pause (the) (timer)":e,"stop (the) (timer)":e,"reset (the) (timer)":n,"(start) (the) (a) work (timer)":()=>o(D.pomodoro),"(start) (take) (a) :length (break)":t=>o(D[t])};return a.addCommands(s),a.addCallback("resultMatch",r),a.addCallback("resultNoMatch",c),a.debug(),a.start(),a};function H(t){let e;function n(t,e){return t[1]?t[4]?K:J:Q}let o=n(t),r=o(t);return{c(){r.c(),e=f("")},m(t,n){r.m(t,n),i(t,e,n)},p(t,c){o===(o=n(t))&&r?r.p(t,c):(r.d(1),r=o(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){r.d(t),t&&l(e)}}}function J(e){let n;return{c(){n=u("div"),n.textContent='Waiting for a command - try "start timer" or "stop timer"',h(n,"class","speech svelte-190iwfw")},m(t,e){i(t,n,e)},p:t,d(t){t&&l(n)}}}function K(t){let e,n,o,r;return{c(){e=u("div"),n=f('You said "'),o=f(t[4]),r=f('"'),h(e,"class","speech svelte-190iwfw")},m(t,c){i(t,e,c),s(e,n),s(e,o),s(e,r)},p(t,e){16&e&&m(o,t[4])},d(t){t&&l(e)}}}function Q(e){let n;return{c(){n=u("div"),n.textContent="Speech recognition not supported on this device",h(n,"class","speech svelte-190iwfw")},m(t,e){i(t,n,e)},p:t,d(t){t&&l(n)}}}function V(t){let e,n,r,c,m,g,w,v,$,y,b,x,k,S,_,C,R,M,N,T,I,O,j;r=new U({props:{text:t[3],timeLeft:t[2]}}),r.$on("click",t[6]);let z=t[0]&&H(t);return{c(){var o;e=u("main"),n=u("div"),(o=r.$$.fragment)&&o.c(),c=d(),m=u("div"),g=u("div"),w=u("button"),v=f("Pomodoro"),y=d(),b=u("button"),x=f("Short break"),S=d(),_=u("button"),C=f("Long break"),M=d(),N=u("button"),N.textContent="Reset",T=d(),z&&z.c(),h(w,"class",$=a(t[5](D.pomodoro))+" svelte-190iwfw"),h(b,"class",k=a(t[5](D.short))+" svelte-190iwfw"),h(_,"class",R=a(t[5](D.long))+" svelte-190iwfw"),h(g,"class","controls svelte-190iwfw"),h(N,"class","text svelte-190iwfw"),h(m,"class","panel svelte-190iwfw"),h(e,"class","svelte-190iwfw")},m(o,a){i(o,e,a),s(e,n),L(r,n,null),s(e,c),s(e,m),s(m,g),s(g,w),s(w,v),s(g,y),s(g,b),s(b,x),s(g,S),s(g,_),s(_,C),s(m,M),s(m,N),s(e,T),z&&z.m(e,null),I=!0,O||(j=[p(w,"click",t[12]),p(b,"click",t[13]),p(_,"click",t[14]),p(N,"click",t[7])],O=!0)},p(t,[n]){const o={};8&n&&(o.text=t[3]),4&n&&(o.timeLeft=t[2]),r.$set(o),(!I||32&n&&$!==($=a(t[5](D.pomodoro))+" svelte-190iwfw"))&&h(w,"class",$),(!I||32&n&&k!==(k=a(t[5](D.short))+" svelte-190iwfw"))&&h(b,"class",k),(!I||32&n&&R!==(R=a(t[5](D.long))+" svelte-190iwfw"))&&h(_,"class",R),t[0]?z?z.p(t,n):(z=H(t),z.c(),z.m(e,null)):z&&(z.d(1),z=null)},i(t){I||(E(r.$$.fragment,t),I=!0)},o(t){!function(t,e,n,o){if(t&&t.o){if(P.has(t))return;P.add(t),(void 0).c.push((()=>{P.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}(r.$$.fragment,t),I=!1},d(t){t&&l(e),A(r),z&&z.d(),O=!1,o(j)}}}function X(t,e,n){let o;const r=new URLSearchParams(window.location.search);let c,{audio:a=new Audio("audio/weird-scream.wav")}=e,{enableSpeech:s=r.get("speech")}=e,{seconds:i=r.get("seconds")}=e,l=!1,u=D.pomodoro,f=i?1e3*i:u.time,d="Get to work!",p="";const h=()=>{l=!0,c=setInterval((()=>{n(2,f-=1e3),f<=0&&(n(2,f=0),clearInterval(c),n(3,d="Party!"),a.play())}),1e3)},m=()=>{l=!1,clearInterval(c)},g=()=>{clearInterval(c),n(2,f=u.time),m()},w=t=>{clearInterval(c),n(2,f=t.time),n(3,d=t.text),n(11,u=t),h()},v=t=>n(4,p=t),$=()=>n(4,p="Unknown...");let{speech:y=(s?F({play:h,pause:m,reset:g,startNewTimer:w,resultMatch:v,resultNoMatch:$}):null)}=e;return t.$$set=t=>{"audio"in t&&n(9,a=t.audio),"enableSpeech"in t&&n(0,s=t.enableSpeech),"seconds"in t&&n(10,i=t.seconds),"speech"in t&&n(1,y=t.speech)},t.$$.update=()=>{2048&t.$$.dirty&&n(5,o=t=>t===u?"active":""),4&t.$$.dirty&&(document.title=`${j(f)} - Pomodoro`)},[s,y,f,d,p,o,()=>l?m():h(),g,w,a,i,u,()=>w(D.pomodoro),()=>w(D.short),()=>w(D.long)]}return new class extends O{constructor(t){super(),I(this,t,X,V,c,{audio:9,enableSpeech:0,seconds:10,speech:1})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
